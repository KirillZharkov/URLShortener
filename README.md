# URLShortener

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-–ª–æ–∫–∞–ª—å–Ω–æ)
- [API (–ø—Ä–∏–º–µ—Ä)](#api-–ø—Ä–∏–º–µ—Ä)
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–∏-—É–ª—É—á—à–µ–Ω–∏—è)

---

## –û –ø—Ä–æ–µ–∫—Ç–µ
URLShortener ‚Äî –ª—ë–≥–∫–∏–π REST-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL. –ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Go; —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç `cmd/url-shortener`, `config`, `internal`, workflow –¥–ª—è GitHub Actions –∏ —Ç. –ø. (—Å–º. —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π).
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–ª–∞–ª—Å—è –ø–æ –≤–∏–¥–µ–æ https://www.youtube.com/watch?v=rCJvW2xgnk0 —Å–æ —Å–≤–æ–∏–º–∏ –¥–æ—Ä–∞–±–æ—Ç–∞–∫–∞–º–∏

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Go –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–±–æ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è REST API, —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Å—ã–ª–æ–∫.

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- **github.com/go-chi/chi/v5** ‚Äî –ª—ë–≥–∫–∏–π –∏ –±—ã—Å—Ç—Ä—ã–π HTTP-—Ä–æ—É—Ç–µ—Ä.  
- **github.com/go-chi/render** ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ JSON-–æ—Ç–≤–µ—Ç–æ–≤ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.  
- **github.com/go-playground/validator/v10** ‚Äî –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ —Ç—ç–≥–∞–º(–ø—Ä–æ–≤–µ—Ä–∫–∞ URL).  
- **github.com/ilyakaznacheev/cleanenv** ‚Äî —É–¥–æ–±–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ `.env` –∏–ª–∏ YAML.  
- **github.com/mattn/go-sqlite3** ‚Äî –¥—Ä–∞–π–≤–µ—Ä SQLite –¥–ª—è Go.  
- **github.com/fatih/color** ‚Äî —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å.  
- **golang.org/x/exp** ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã Go.  

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
–°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏**  
  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–ª–∏–Ω–Ω—ã–π URL -> –ø–æ–ª—É—á–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π alias, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º –∑–∞–ø—Ä–æ—Å–∏—Ç.

- **–ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ (—Ä–µ–¥–∏—Ä–µ–∫—Ç)**  
  –ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ `/{alias}` —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL.

- **–•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (SQLite)**  
  –ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î (–µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É!).

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥—è—â–∏—Ö URL**  
  –ü–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Å—ã–ª–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ `validator`.

- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**  
  –°–µ—Ä–≤–∏—Å –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ä–∞–±–æ—Ç–µ (—Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ `color`).

- **–†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ REST API**  
  –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∏—Ä–µ–∫—Ç, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ HTTP.

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

–†–∞–±–æ—Ç–∞–ª –≤ vscode , –º–Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–∫–∞—á–∞—Ç—å msys64 –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏. –ò —è –Ω–µ —É—Å—Ç–∞–Ω–≤–∞–ª–∏–≤–∞–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è , —è –∏—Ö –∑–∞–¥–∞–≤–∞–ª —Å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```powershell
  go build
  $env:PATH += ";C:\msys64\ucrt64\bin"
  $env:CONFIG_PATH = ".\config\local.yaml"
  go run .\cmd\url_shortener\
```  
---

## API (–ø—Ä–∏–º–µ—Ä)

1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏

POST http://155.212.157.171:8082/url
{
    "url":"https://ya.ru",
    "alias":"1234"
}

2. –†–µ–¥–∏—Ä–µ–∫—Ç

GET http://155.212.157.171:8082/1234
–≤ –ø–æ–∏—Å–∫–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –±—Ä–∞—É–∑–µ—Ä–∞ -> –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ https://ya.ru 

2. –£–¥–∞–ª–µ–Ω–∏–µ

DELETE http://155.212.157.171:8082/1234
–ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥–∞ "url" –∏ "alias"

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–π —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ Docker –±–µ–∑ `YAML`, –Ω–æ –ø–æ–∫–∞ –ª–µ–Ω—å